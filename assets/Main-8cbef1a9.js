import{s as g,t as m,d as x}from"./firebaseConfig-bb59ec2d.js";import{a as v,u as w,r as f,o as b,f as y,b as l,d as c,e as s,g as p,j as u,F as k,i as C,k as N,t as n}from"./index-1c683a52.js";const S={class:"grow mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-6"},A={class:"flex justify-between items-center"},B=s("span",{class:"text-[32px] font-medium"},"แจ้งข่าวสาร",-1),D=s("button",{type:"button",class:"border rounded px-3 py-2 min-w-[100px] border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white"}," Add ",-1),E={class:"grid grid-cols-1 gap-4 mt-4"},F=["onClick"],I={class:"grid grid-cols-12"},j=s("div",{class:"col-span-12 lg:col-span-2"},"ชื่อบริษัท :",-1),M={class:"col-span-12 lg:col-span-10"},V={class:"grid grid-cols-12"},L=s("div",{class:"col-span-12 lg:col-span-2"},"ตำแหน่ง :",-1),R={class:"col-span-12 lg:col-span-10"},q={class:"col-span-12 lg:col-span-1 text-end"},z=s("button",{class:"text-blue-500 hover:bg-blue-500 hover:text-white px-3 py-2 rounded"},"Edit",-1),K={__name:"Main",setup(G){const r=v(),d=w(),i=f([]);b(()=>{const o=r.getters.getAuth.username,a=r.getters.getAuth.role;o&&a==="admin"?_():d.push({name:"Index"})});const _=async()=>{const o=g(x,"news"),t=(await m(o)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched news:",t),i.value=t};return(o,a)=>{const t=y("router-link");return l(),c("div",S,[s("div",A,[B,p(t,{to:"/admin/news/create"},{default:u(()=>[D]),_:1})]),s("div",E,[(l(!0),c(k,null,C(i.value,(e,h)=>(l(),c("div",{class:"p-6 shadow grid grid-cols-12 cursor-pointer hover:bg-gray-50",key:h},[s("div",{class:"col-span-12 lg:col-span-11 flex flex-col gap-2",onClick:()=>N(d).push({name:"DetailNews",params:{newsId:e.id}})},[s("div",I,[j,s("div",M,n(e.company_name),1)]),s("div",V,[L,s("div",R,[s("ul",null,[s("li",null,n(e.role1),1),s("li",null,n(e.role2),1),s("li",null,n(e.role3),1)])])])],8,F),s("div",q,[p(t,{to:{name:"EditNews",params:{newsId:e.id}}},{default:u(()=>[z]),_:2},1032,["to"])])]))),128))])])}}};export{K as default};
